{"openapi":"3.0.3","info":{"title":"ThingsBoard REST API Auth","description":" ThingsBoard open-source IoT platform REST API documentation.","contact":{"name":"ThingsBoard team","url":"https://thingsboard.io","email":"info@thingsboard.io"},"license":{"name":"Apache License Version 2.0","url":"https://github.com/thingsboard/thingsboard/blob/master/LICENSE"},"version":"3.3.3-SNAPSHOT"},"servers":[{"url":"https://demo.thingsboard.io:443","description":"Inferred Url"}],"tags":[{"name":"auth-controller","description":"Auth Controller"}],"paths":{"/api/auth/login":{"post":{"tags":["login-endpoint"],"summary":"Login method to get user JWT token data","description":"Login method used to authenticate user and get JWT token data.\n\nValue of the response **token** field can be used as **X-Authorization** header value:\n\n`X-Authorization: Bearer $JWT_TOKEN_VALUE`.","operationId":"loginPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"account-disabled":{"summary":"Disabled account","value":{"status":401,"message":"User account is not active","errorCode":10,"timestamp":"2022-01-28T09:02:37.387+00:00"}},"account-locked":{"summary":"Locked account","value":{"status":401,"message":"User account is locked due to security policy","errorCode":10,"timestamp":"2022-01-28T09:02:37.387+00:00"}},"authentication-failed":{"summary":"General authentication error","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:02:37.387+00:00"}},"bad-credentials":{"summary":"Bad credentials","value":{"status":401,"message":"Invalid username or password","errorCode":10,"timestamp":"2022-01-28T09:02:37.387+00:00"}},"token-expired":{"summary":"JWT token expired","value":{"status":401,"message":"Token has expired","errorCode":11,"timestamp":"2022-01-28T09:02:37.387+00:00"}}}}}},"401 ":{"description":"Unauthorized (**Expired credentials**)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardCredentialsExpiredResponse"},"examples":{"credentials-expired":{"summary":"Expired credentials","value":{"status":401,"message":"User password expired!","errorCode":15,"timestamp":"2022-01-28T09:02:37.418+00:00","resetToken":"M2OnwDcSx1sBYDdukwj3tto7b3pmLD"}}}}}}}}}},"components":{"schemas":{"LoginRequest":{"title":"LoginRequest","required":["password","username"],"type":"object","properties":{"username":{"type":"string","description":"User email","example":"tenant@thingsboard.org"},"password":{"type":"string","description":"User password","example":"tenant"}}},"LoginResponse":{"title":"LoginResponse","required":["refreshToken","token"],"type":"object","properties":{"token":{"type":"string","description":"JWT token","example":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZW5hbnRAdGhpbmdzYm9hcmQub3JnIi..."},"refreshToken":{"type":"string","description":"Refresh token","example":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZW5hbnRAdGhpbmdzYm9hcmQub3JnIi..."}}}}}}

