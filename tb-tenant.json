{"openapi":"3.0.3","info":{"title":"TB Tenant Controller","description":" ThingsBoard open-source IoT platform REST API documentation.","contact":{"name":"ThingsBoard team","url":"https://thingsboard.io","email":"info@thingsboard.io"},"license":{"name":"Apache License Version 2.0","url":"https://github.com/thingsboard/thingsboard/blob/master/LICENSE"},"version":"3.3.3-SNAPSHOT"},"servers":[{"url":"https://demo.thingsboard.io:443","description":"Inferred Url"}],"tags":[{"name":"tenant-controller","description":"Tenant Controller"}],"paths":{"/api/tenant":{"post":{"tags":["tenant-controller"],"summary":"Create Or update Tenant (saveTenant)","description":"Create or update the Tenant. When creating tenant, platform generates Tenant Id as [time-based UUID](https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)). Default Rule Chain and Device profile are also generated for the new tenants automatically. The newly created Tenant Id will be present in the response. Specify existing Tenant Id id to update the Tenant. Referencing non-existing Tenant Id will cause 'Not Found' error.\n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"saveTenantUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tenant"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tenant"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid request body","errorCode":31,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/tenant/info/{tenantId}":{"get":{"tags":["tenant-controller"],"summary":"Get Tenant Info (getTenantInfoById)","description":"Fetch the Tenant Info object based on the provided Tenant Id. The Tenant Info object extends regular Tenant object and includes Tenant Profile name. \n\nAvailable for users with 'SYS_ADMIN' or 'TENANT_ADMIN' authority.","operationId":"getTenantInfoByIdUsingGET","parameters":[{"name":"tenantId","in":"path","description":"A string value representing the tenant id. For example, '784f394c-42b6-435a-983c-b7beff2784f9'","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantInfo"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-01-28T09:01:41.717+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:01:42.244+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/tenant/{tenantId}":{"get":{"tags":["tenant-controller"],"summary":"Get Tenant (getTenantById)","description":"Fetch the Tenant object based on the provided Tenant Id. \n\nAvailable for users with 'SYS_ADMIN' or 'TENANT_ADMIN' authority.","operationId":"getTenantByIdUsingGET","parameters":[{"name":"tenantId","in":"path","description":"A string value representing the tenant id. For example, '784f394c-42b6-435a-983c-b7beff2784f9'","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tenant"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-01-28T09:01:41.717+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:01:42.244+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]},"delete":{"tags":["tenant-controller"],"summary":"Delete Tenant (deleteTenant)","description":"Deletes the tenant, it's customers, rule chains, devices and all other related entities. Referencing non-existing tenant Id will cause an error.\n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"deleteTenantUsingDELETE","parameters":[{"name":"tenantId","in":"path","description":"A string value representing the tenant id. For example, '784f394c-42b6-435a-983c-b7beff2784f9'","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-01-28T09:01:42.246+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:01:42.246+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-01-28T09:01:42.246+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-01-28T09:01:42.246+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-01-28T09:01:42.246+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/tenantInfos{?page,pageSize,sortOrder,sortProperty,textSearch}":{"get":{"tags":["tenant-controller"],"summary":"Get Tenants Info (getTenants)","description":"Returns a page of tenant info objects registered in the platform. The Tenant Info object extends regular Tenant object and includes Tenant Profile name. You can specify parameters to filter the results. The result is wrapped with PageData object that allows you to iterate over result set using pagination. See the 'Model' tab of the Response Class for more details. \n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"getTenantInfosUsingGET","parameters":[{"name":"pageSize","in":"query","description":"Maximum amount of entities in a one page","required":true,"style":"form","allowReserved":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","description":"Sequence number of page starting from 0","required":true,"style":"form","allowReserved":true,"schema":{"type":"integer","format":"int32"}},{"name":"textSearch","in":"query","description":"The case insensitive 'substring' filter based on the tenant name.","required":false,"style":"form","schema":{"type":"string"}},{"name":"sortProperty","in":"query","description":"Property of entity to sort by","required":false,"style":"form","schema":{"type":"string","enum":["address","address2","city","country","createdTime","email","phone","state","tenantProfileName","title","zip"]}},{"name":"sortOrder","in":"query","description":"Sort order. ASC (ASCENDING) or DESC (DESCENDING)","required":false,"style":"form","schema":{"type":"string","enum":["ASC","DESC"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageData«TenantInfo»"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-01-28T09:01:41.717+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:01:42.244+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/tenants{?page,pageSize,sortOrder,sortProperty,textSearch}":{"get":{"tags":["tenant-controller"],"summary":"Get Tenants (getTenants)","description":"Returns a page of tenants registered in the platform. You can specify parameters to filter the results. The result is wrapped with PageData object that allows you to iterate over result set using pagination. See the 'Model' tab of the Response Class for more details. \n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"getTenantsUsingGET","parameters":[{"name":"pageSize","in":"query","description":"Maximum amount of entities in a one page","required":true,"style":"form","allowReserved":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","description":"Sequence number of page starting from 0","required":true,"style":"form","allowReserved":true,"schema":{"type":"integer","format":"int32"}},{"name":"textSearch","in":"query","description":"The case insensitive 'substring' filter based on the tenant name.","required":false,"style":"form","schema":{"type":"string"}},{"name":"sortProperty","in":"query","description":"Property of entity to sort by","required":false,"style":"form","schema":{"type":"string","enum":["address","address2","city","country","createdTime","email","phone","state","title","zip"]}},{"name":"sortOrder","in":"query","description":"Sort order. ASC (ASCENDING) or DESC (DESCENDING)","required":false,"style":"form","schema":{"type":"string","enum":["ASC","DESC"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageData«Tenant»"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-01-28T09:01:41.717+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-01-28T09:01:42.244+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-01-28T09:01:42.245+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}}},"components":{"schemas":{"Tenant":{"title":"Tenant","required":["address","address2","city","country","email","phone","state","tenantProfileId","zip"],"type":"object","properties":{"id":{"description":"JSON object with the tenant Id. Specify this field to update the tenant. Referencing non-existing tenant Id will cause error. Omit this field to create new tenant.","$ref":"#/components/schemas/TenantId"},"createdTime":{"type":"integer","description":"Timestamp of the tenant creation, in milliseconds","format":"int64","readOnly":true,"example":1609459200000},"title":{"type":"string","description":"Title of the tenant","example":"Company A"},"name":{"type":"string","description":"Name of the tenant. Read-only, duplicated from title for backward compatibility","readOnly":true,"example":"Company A"},"region":{"type":"string","description":"Geo region of the tenant","example":"North America"},"tenantProfileId":{"description":"JSON object with Tenant Profile Id","$ref":"#/components/schemas/TenantProfileId"},"country":{"type":"string","description":"Country","example":"US"},"state":{"type":"string","description":"State","example":"NY"},"city":{"type":"string","description":"City","example":"New York"},"address":{"type":"string","description":"Address Line 1","example":"42 Broadway Suite 12-400"},"address2":{"type":"string","description":"Address Line 2"},"zip":{"type":"string","description":"Zip code","example":"10004"},"phone":{"type":"string","description":"Phone number","example":"+1(415)777-7777"},"email":{"type":"string","description":"Email","example":"example@company.com"},"additionalInfo":{"description":"Additional parameters of the device","$ref":"#/components/schemas/JsonNode"}}},"TenantId":{"title":"TenantId","required":["entityType","id"],"type":"object","properties":{"id":{"type":"string","description":"ID of the entity, time-based UUID v1","format":"uuid","example":"784f394c-42b6-435a-983c-b7beff2784f9"},"entityType":{"type":"string","description":"string","example":"TENANT","enum":["TENANT"]}}},"TenantInfo":{"title":"TenantInfo","required":["address","address2","city","country","email","phone","state","tenantProfileId","zip"],"type":"object","properties":{"id":{"description":"JSON object with the tenant Id. Specify this field to update the tenant. Referencing non-existing tenant Id will cause error. Omit this field to create new tenant.","$ref":"#/components/schemas/TenantId"},"createdTime":{"type":"integer","description":"Timestamp of the tenant creation, in milliseconds","format":"int64","readOnly":true,"example":1609459200000},"title":{"type":"string","description":"Title of the tenant","example":"Company A"},"name":{"type":"string","description":"Name of the tenant. Read-only, duplicated from title for backward compatibility","readOnly":true,"example":"Company A"},"region":{"type":"string","description":"Geo region of the tenant","example":"North America"},"tenantProfileId":{"description":"JSON object with Tenant Profile Id","$ref":"#/components/schemas/TenantProfileId"},"country":{"type":"string","description":"Country","example":"US"},"state":{"type":"string","description":"State","example":"NY"},"city":{"type":"string","description":"City","example":"New York"},"address":{"type":"string","description":"Address Line 1","example":"42 Broadway Suite 12-400"},"address2":{"type":"string","description":"Address Line 2"},"zip":{"type":"string","description":"Zip code","example":"10004"},"phone":{"type":"string","description":"Phone number","example":"+1(415)777-7777"},"email":{"type":"string","description":"Email","example":"example@company.com"},"additionalInfo":{"description":"Additional parameters of the device","$ref":"#/components/schemas/JsonNode"},"tenantProfileName":{"type":"string","description":"Tenant Profile name","example":"Default"}}},"TenantProfile":{"title":"TenantProfile","type":"object","properties":{"default":{"type":"boolean"},"id":{"description":"JSON object with the tenant profile Id. Specify this field to update the tenant profile. Referencing non-existing tenant profile Id will cause error. Omit this field to create new tenant profile.","$ref":"#/components/schemas/TenantProfileId"},"createdTime":{"type":"integer","description":"Timestamp of the tenant profile creation, in milliseconds","format":"int64","readOnly":true,"example":1609459200000},"name":{"type":"string","description":"Name of the tenant profile","example":"High Priority Tenants"},"description":{"type":"string","description":"Description of the tenant profile","example":"Any text"},"isolatedTbCore":{"type":"boolean","description":"If enabled, will push all messages related to this tenant and processed by core platform services into separate queue. Useful for complex microservices deployments, to isolate processing of the data for specific tenants","example":true},"isolatedTbRuleEngine":{"type":"boolean","description":"If enabled, will push all messages related to this tenant and processed by the rule engine into separate queue. Useful for complex microservices deployments, to isolate processing of the data for specific tenants","example":true},"profileData":{"description":"Complex JSON object that contains profile settings: max devices, max assets, rate limits, etc.","$ref":"#/components/schemas/TenantProfileData"}}},"TenantProfileConfiguration":{"title":"TenantProfileConfiguration","type":"object"},"TenantProfileData":{"title":"TenantProfileData","type":"object","properties":{"configuration":{"description":"Complex JSON object that contains profile settings: max devices, max assets, rate limits, etc.","$ref":"#/components/schemas/TenantProfileConfiguration"}}}}}}
