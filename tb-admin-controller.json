{"openapi":"3.0.3","info":{"title":"TB Admin Controller","description":" ThingsBoard open-source IoT platform REST API documentation.","contact":{"name":"ThingsBoard team","url":"https://thingsboard.io","email":"info@thingsboard.io"},"license":{"name":"Apache License Version 2.0","url":"https://github.com/thingsboard/thingsboard/blob/master/LICENSE"},"version":"3.3.3-SNAPSHOT"},"servers":[{"url":"https://demo.thingsboard.io:443","description":"Inferred Url"}],"tags":[{"name":"admin-controller","description":"Admin Controller"}],"paths":{"/api/admin/securitySettings":{"get":{"tags":["admin-controller"],"summary":"Get the Security Settings object","description":"Get the Security Settings object that contains password policy, etc.\n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"getSecuritySettingsUsingGET","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SecuritySettings"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-02-08T12:50:22.986+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.174+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.174+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]},"post":{"tags":["admin-controller"],"summary":"Update Security Settings (saveSecuritySettings)","description":"Updates the Security Settings object that contains password policy, etc.\n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"saveSecuritySettingsUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SecuritySettings"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SecuritySettings"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid request body","errorCode":31,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/admin/settings":{"post":{"tags":["admin-controller"],"summary":"Get the Administration Settings object using key (getAdminSettings)","description":"Creates or Updates the Administration Settings. Platform generates random Administration Settings Id during settings creation. The Administration Settings Id will be present in the response. Specify the Administration Settings Id when you would like to update the Administration Settings. Referencing non-existing Administration Settings Id will cause an error.\n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"saveAdminSettingsUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSettings"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSettings"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid request body","errorCode":31,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/admin/settings/testMail":{"post":{"tags":["admin-controller"],"summary":"Send test email (sendTestMail)","description":"Attempts to send test email to the System Administrator User using Mail Settings provided as a parameter. You may change the 'To' email in the user profile of the System Administrator. \n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"sendTestMailUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSettings"}}}},"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid request body","errorCode":31,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/admin/settings/testSms":{"post":{"tags":["admin-controller"],"summary":"Send test sms (sendTestMail)","description":"Attempts to send test sms to the System Administrator User using SMS Settings and phone number provided as a parameters of the request. \n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"sendTestSmsUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestSmsRequest"}}}},"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid request body","errorCode":31,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/admin/settings/{key}":{"get":{"tags":["admin-controller"],"summary":"Get the Administration Settings object using key (getAdminSettings)","description":"Get the Administration Settings object using specified string key. Referencing non-existing key will cause an error.\n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"getAdminSettingsUsingGET","parameters":[{"name":"key","in":"path","description":"A string value of the key (e.g. 'general' or 'mail').","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSettings"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-02-08T12:50:22.986+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.174+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.174+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}},"/api/admin/updates":{"get":{"tags":["admin-controller"],"summary":"Check for new Platform Releases (checkUpdates)","description":"Check notifications about new platform releases. \n\nAvailable for users with 'SYS_ADMIN' authority.","operationId":"checkUpdatesUsingGET","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMessage"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-400":{"summary":"Bad Request","value":{"status":400,"message":"Invalid UUID string: 123","errorCode":31,"timestamp":"2022-02-08T12:50:22.986+00:00"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-401":{"summary":"Unauthorized","value":{"status":401,"message":"Authentication failed","errorCode":10,"timestamp":"2022-02-08T12:50:23.174+00:00"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-403":{"summary":"Forbidden","value":{"status":403,"message":"You don't have permission to perform this operation!","errorCode":20,"timestamp":"2022-02-08T12:50:23.174+00:00"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-404":{"summary":"Not Found","value":{"status":404,"message":"Requested item wasn't found!","errorCode":32,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThingsboardErrorResponse"},"examples":{"error-code-429":{"summary":"Too Many Requests","value":{"status":429,"message":"Too many requests for current tenant!","errorCode":33,"timestamp":"2022-02-08T12:50:23.175+00:00"}}}}}}},"security":[{"HTTP login form":["SYS_ADMIN","TENANT_ADMIN","CUSTOMER_USER"]}]}}},"components":{"schemas":{"AdminSettings":{"title":"AdminSettings","type":"object","properties":{"id":{"description":"The Id of the Administration Settings, auto-generated, UUID","$ref":"#/components/schemas/AdminSettingsId"},"createdTime":{"type":"integer","description":"Timestamp of the settings creation, in milliseconds","format":"int64","readOnly":true,"example":1609459200000},"key":{"type":"string","description":"The Administration Settings key, (e.g. 'general' or 'mail')","example":"mail"},"jsonValue":{"description":"JSON representation of the Administration Settings value","$ref":"#/components/schemas/JsonNode"}}},"AdminSettingsId":{"title":"AdminSettingsId","required":["id"],"type":"object","properties":{"id":{"type":"string","description":"string","format":"uuid","example":"784f394c-42b6-435a-983c-b7beff2784f9"}}}}}}
